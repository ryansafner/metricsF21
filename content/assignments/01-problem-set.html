---
title: "Preliminary Survey on Statistics and Software"
draft: false
linktitle: "Preliminary Survey"
date: "2020-06-08"
menu:
  assignments:
    parent: Problem Sets
    weight: 2
type: docs
#output:
#  blogdown::html_page:
#    toc: true
---

<script src="/rmarkdown-libs/header-attrs/header-attrs.js"></script>


<p>{{% alert note %}}
Please submit on Blackboard Assignments by class on Tuesday September 14.
{{% /alert %}}</p>
<p style="text-align:center">
<a target="_blank" href="/assignment/01-problem-set-pdf.pdf"><span class="btn btn-primary btn-lg"><i class="fas fa-file-pdf"></i> Download PDF</a></span>
</p>
<p>Please read the <a href="/assignments/problem-sets">instructions</a> for completing homeworks.</p>
<p style="text-align:center">
<a target="_blank" href="/assignment/01-problem-set-pdf.pdf"><span class="btn btn-primary btn-lg"><i class="fas fa-file-pdf"></i> Download PDF</a></span> <a target="_blank" href="/assignment/00-preliminary-survey-answers.html"><span class="btn btn-primary btn-lg"><i class="fab fa-markdown"></i> Download Markdown</a></span> <a target="_blank" href="/assignment/00-preliminary-survey-answers.html"><span class="btn btn-primary btn-lg"><i class="fas fa-cloud"></i> View Project on R Studio Cloud</a></span>
</p>
<div id="the-popularity-of-baby-names" class="section level1">
<h1>The Popularity of Baby Names</h1>
<p>Install and load the package <code>babynames</code>. Get help for <code>?babynames</code> to see what the data includes.</p>
<div id="question-1" class="section level2">
<h2>Question 1</h2>
<div id="part-a" class="section level3">
<h3>Part A</h3>
<p>What are the top 5 boys names for 2017, and what <em>percent</em> of overall names is each?</p>
</div>
<div id="part-b" class="section level3">
<h3>Part B</h3>
<p>What are the top 5 <em>girls</em> names for 2017, and what <em>percent</em> of overall names is each?</p>
</div>
</div>
<div id="question-2" class="section level2">
<h2>Question 2</h2>
<p>Make two barplots of these top 5 names, one for each sex. Map <code>aes</code>thetics <code>x</code> to <code>name</code> and <code>y</code> to <code>prop</code> [or <code>percent</code>, if you made that variable, as I did.] and use <code>geom_col</code> (since you are declaring a specific <code>y</code>, otherwise you could just use <code>geom_bar()</code> and just an <code>x</code>.)</p>
</div>
<div id="question-3" class="section level2">
<h2>Question 3</h2>
<p>Find your name. [If your name isn‚Äôt in there üòü, pick a random name.] <code>count</code> by <code>sex</code> how many babies since 1880 were named your name. [Hint: if you do this, you‚Äôll get the number of <em>rows</em> (years) there are in the data. You want to add the number of babies in each row (<code>n</code>), so inside <code>count</code>, add <code>wt = n</code> to weight the count by <code>n</code>.] Also add a variable for the percent of each sex.</p>
</div>
<div id="question-4" class="section level2">
<h2>Question 4</h2>
<p>Make a line graph of the number of babies with your name over time, <code>color</code>ed by <code>sex</code>.</p>
</div>
<div id="question-5" class="section level2">
<h2>Question 5</h2>
<div id="part-a-1" class="section level3">
<h3>Part A</h3>
<p>Find the most common name for boys by year between 1980-2017. [Hint: you‚Äôll want to first <code>group_by(year)</code>. Once you‚Äôve got all the right conditions, you‚Äôll get a table with a lot of data. You only want to <code>slice(1)</code> to keep just the 1st row of each year‚Äôs data.]</p>
</div>
<div id="part-b-1" class="section level3">
<h3>Part B</h3>
<p>Now do the same for girls.</p>
</div>
</div>
<div id="question-6" class="section level2">
<h2>Question 6</h2>
<p>Now let‚Äôs graph the evolution of the most common names since 1880.</p>
<div id="part-a-2" class="section level3">
<h3>Part A</h3>
<p>First, find out what are the top 10 <em>overall</em> most popular names for boys and for girls in the data. [Hint: first <code>group_by(name)</code>.] You may want to create two objects, each with these top 5 names as character elements.</p>
</div>
<div id="part-b-2" class="section level3">
<h3>Part B</h3>
<p>Now make two <code>line</code>graphs of these 5 names over time, one for boys, and one for girls. [Hint: you‚Äôll first want to subset the data to use for your <code>data</code> layer in the plot. First <code>group_by(year)</code> and also make sure you only use the names you found in Part A. Try using the <code>%in%</code> command to do this.]</p>
</div>
</div>
<div id="question-7" class="section level2">
<h2>Question 7</h2>
<p><strong>Bonus (a challenge!)</strong>: What are the 10 most common ‚Äúgender-neutral‚Äù names? [This is hard to define. For our purposes, let‚Äôs define this as names where between 48% and 52% of the babies with the name are Male.]</p>
</div>
</div>
<div id="political-and-economic-freedom-around-the-world" class="section level1">
<h1>Political and Economic Freedom Around the World</h1>
<p>For the remaining questions, we‚Äôll look at the relationship between Economic Freedom and Political Freedom in countries around the world today. Our data for economic freedom comes from the <a href="https://www.fraserinstitute.org/economic-freedom/dataset?geozone=world&amp;year=2016&amp;page=dataset">Fraser Institute</a>, and our data for political freedom comes from <a href="https://freedomhouse.org/content/freedom-world-data-and-resources">Freedom House</a>.</p>
<div id="question-8" class="section level2">
<h2>Question 8</h2>
<p>Download these two datasets that I‚Äôve cleaned up a bit: [If you want a challenge, try downloading them from the websites and cleaning them up yourself!]</p>
<ul>
<li><a href="http://metricsf20.classes.ryansafner.com/data/econ_freedom.csv"><i class="fas fa-table"></i> <code>econ_freedom.csv</code></a></li>
<li><a href="http://metricsf20.classes.ryansafner.com/data/pol_freedom.csv"><i class="fas fa-table"></i> <code>pol_freedom.csv</code></a></li>
</ul>
<p>Below is a brief description of the variables I‚Äôve put in each dataset:</p>
<div id="econ-freedom" class="section level3">
<h3>Econ Freedom</h3>
<table>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>year</code></td>
<td>Year</td>
</tr>
<tr class="even">
<td><code>ISO</code></td>
<td>Three-letter country code</td>
</tr>
<tr class="odd">
<td><code>country</code></td>
<td>Name of the country</td>
</tr>
<tr class="even">
<td><code>ef_index</code></td>
<td>Total economic freedom index (0 - least to 100 - most)</td>
</tr>
<tr class="odd">
<td><code>rank</code></td>
<td>Rank of the country in terms of economic freedom</td>
</tr>
<tr class="even">
<td><code>continent</code></td>
<td>Continent the country is in</td>
</tr>
</tbody>
</table>
</div>
<div id="pol-freedom" class="section level3">
<h3>Pol Freedom</h3>
<table>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>country</code></td>
<td>Name of the country</td>
</tr>
<tr class="even">
<td><code>C/T</code></td>
<td>Whether the location is a country (C) or territory (T)</td>
</tr>
<tr class="odd">
<td><code>year</code></td>
<td>Year</td>
</tr>
<tr class="even">
<td><code>status</code></td>
<td>Whether the location is Free (F), Partly Free (F) or Not Free (NF)</td>
</tr>
<tr class="odd">
<td><code>fh_score</code></td>
<td>Total political freedom index (0 - least to 100 - most)</td>
</tr>
</tbody>
</table>
<p>Import and save them each as an object using <code>my_df_name &lt;- read_csv("name_of_the_file.csv")</code>. I suggest one as <code>econ</code> and the other as <code>pol</code>, but it‚Äôs up to you. Look at each object you‚Äôve created.</p>
</div>
</div>
<div id="question-9" class="section level2">
<h2>Question 9</h2>
<p>Now let‚Äôs join them together so that we can have a single dataset to work with. You can learn more about this <a href="https://metricsf21.classes.ryansafner.com/slides/1.4-slides#143">in the 1.4 slides</a>. Since both datasets have both <code>country</code> and <code>year</code> (spelled exactly the same in both!), we can use these two variables as a <code>key</code> to combine observations. Run the following code (substituting whatever you want to name your objects):</p>
<pre class="r"><code>freedom &lt;- left_join(econ, pol, by=c(&quot;country&quot;, &quot;year&quot;)</code></pre>
<p>Take a look at <code>freedom</code> to make sure it appears to have worked.</p>
</div>
<div id="question-10" class="section level2">
<h2>Question 10</h2>
<div id="part-a-3" class="section level3">
<h3>Part A</h3>
<p>Make a barplot of the 10 countries with the highest Economic Freedom index score. You may want to find this first and save it as an object for your plot‚Äôs <code>data</code> layer. Use <code>geom_col()</code> since we will map <code>ef_index</code> to <code>y</code>. If you want to order the bars, set <code>x = fct_reorder(ISO, desc(ef_index))</code> to reorder <code>ISO</code> (or <code>country</code>, if you prefer) by EF score in descending order.</p>
</div>
<div id="part-b-3" class="section level3">
<h3>Part B</h3>
<p>Make a barplot of the 10 countries with the highest Freedom House index score, similar to what you did for Part A.</p>
</div>
</div>
<div id="question-11" class="section level2">
<h2>Question 11</h2>
<p>Now make a scatterplot of Political freedom (<code>fh_score</code> as <code>y</code>) on Economic Freedom (<code>ef_index</code> as <code>x</code>) and <code>color</code> by <code>continent</code>.</p>
</div>
<div id="question-12" class="section level2">
<h2>Question 12</h2>
<p>Save your plot from Question 11 as an object, and add a new layer where we will highlight a few countries. Pick a few countries (I suggest using the <code>ISO</code> code) and create a new object <code>filtering</code> the data to only include these countries (again the <code>%in%</code> command will be most helpful here).</p>
<blockquote>
<p>Additionally, <strong>install</strong> and <strong>load</strong> a package called <code>"ggrepel"</code>, which will adjust labels so they do not overlap on a plot.</p>
</blockquote>
<blockquote>
<p>Then, add the following layer to your plot:</p>
</blockquote>
<pre class="r"><code>geom_label_repel(data = countries, # or whatever object name you created
                     aes(x = ef_index,
                         y = fh_score,
                         label = ISO, # show ISO as label (you could do country instead)
                         color = continent),
                     alpha = 0.5, # make it a bit transparent
                     box.padding = 0.75, # control how far labels are from points
                     show.legend = F) # don&#39;t want this to add to the legend</code></pre>
<p>This should highlight these countries on your plot.</p>
</div>
<div id="question-13" class="section level2">
<h2>Question 13</h2>
<p>Let‚Äôs just look only at the United States and see how it has fared in both measures of freedom over time. <code>filter()</code> the data to look only at <code>ISO == "USA"</code>. Use both a <code>geom_point()</code> layer and a <code>geom_path()</code> layer, which will connect the dots over time. Let‚Äôs also see this by labeling the years with an additional layer <code>geom_text_repel(aes(label = year))</code>.</p>
</div>
</div>
